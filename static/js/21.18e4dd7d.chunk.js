webpackJsonp([21],{1002:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1003),l=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=l.default},1003:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=a(1),c=n(u),p=a(0),m=n(p),f=a(109),y=n(f),b=a(1004),g={buttonStyle:{minWidth:"none"},labelStyle:{padding:"0 12px"},ellipsisLabelStyle:{padding:"0 4px"}},h=function(e){return function(t,a,n){var l=t[a],r="undefined"===typeof l?"undefined":d(l);return"number"!==r?new Error("Failed prop type: Invalid prop `"+a+"` of type `"+r+"` supplied to `"+n+"`, expected `number`."):parseInt(l,10)<e?new Error("Failed prop value: Invalid prop `"+a+"` of value `"+l+"` supplied to `"+n+"`, expected a number greater than or equal to `"+e+"`."):void 0}},C=function(e){function t(){var e,a,n,o;l(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=n=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClick=function(e){return function(t){n.props.onClick&&n.props.onClick(t,(0,b.getOffset)(e,n.props.limit))}},o=a,r(n,o)}return o(t,e),i(t,[{key:"renderCurrentButton",value:function(e){return m.default.createElement(y.default,{disabled:this.props.disabled||this.props.total<=0,disableTouchRipple:!0,hoverColor:this.props.currentPageHoverColor||this.props.hoverColor,key:"cr"+e,label:""+e,labelStyle:s({},g.labelStyle,this.props.currentPageLabelStyle),secondary:!0,style:s({},g.buttonStyle,this.props.currentPageStyle)})}},{key:"renderOtherButton",value:function(e){var t=""+e;return m.default.createElement(y.default,{disabled:this.props.disabled||this.props.total<=0,disableTouchRipple:this.props.disableTouchRipple,hoverColor:this.props.hoverColor,key:t,label:t,labelStyle:s({},g.labelStyle,this.props.otherPageLabelStyle),onClick:this.handleClick(e),primary:!0,rippleColor:this.props.rippleColor,style:s({},g.buttonStyle,this.props.otherPageStyle)})}},{key:"renderEllipsisButton",value:function(e){return m.default.createElement(y.default,{disabled:!0,key:e,label:"...",labelStyle:s({},g.ellipsisLabelStyle,this.props.otherPageLabelStyle),primary:!0,style:s({},g.buttonStyle,this.props.otherPageStyle)})}},{key:"renderEndButton",value:function(e,t,a){return m.default.createElement(y.default,s({},m.default.isValidElement(t)?{icon:m.default.cloneElement(t,{style:s({},g.labelStyle,t.props.style)})}:{label:t,labelStyle:s({},g.labelStyle,this.props.otherPageLabelStyle)},{disabled:this.props.disabled||this.props.total<=0||e<=0,disableTouchRipple:this.props.disableTouchRipple,hoverColor:this.props.hoverColor,key:a,onClick:this.handleClick(e),primary:!0,rippleColor:this.props.rippleColor,style:s({},g.buttonStyle,this.props.otherPageStyle)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.offset,n=t.limit,l=t.total,r=t.className,o=t.nextPageLabel,s=t.previousPageLabel,i=t.reduced,d=t.style;return m.default.createElement("div",{className:"material-ui-flat-pagination"+(r?" "+r:""),style:d},(0,b.computePagination)(a,n,l,i?1:2).map(function(t){return t.isCurrent?e.renderCurrentButton(t.page):t.isEnd?t.isLowSide?e.renderEndButton(t.page,s,"pr"):e.renderEndButton(t.page,o,"nx"):t.isEllipsis?e.renderEllipsisButton(t.isLowSide?"le":"he"):e.renderOtherButton(t.page)}))}}]),t}(m.default.PureComponent);C.propTypes={offset:h(0),limit:h(1),total:h(0),className:c.default.string,currentPageHoverColor:y.default.propTypes.hoverColor,currentPageLabelStyle:y.default.propTypes.labelStyle,currentPageStyle:y.default.propTypes.style,disabled:y.default.propTypes.disabled,disableTouchRipple:y.default.propTypes.disableTouchRipple,hoverColor:y.default.propTypes.hoverColor,nextPageLabel:c.default.node,onClick:y.default.propTypes.onClick,otherPageLabelStyle:y.default.propTypes.labelStyle,otherPageStyle:y.default.propTypes.style,previousPageLabel:c.default.node,rippleColor:y.default.propTypes.rippleColor,reduced:c.default.bool,style:c.default.object},C.defaultProps={disabled:!1,disableTouchRipple:!1,nextPageLabel:">",previousPageLabel:"<",reduced:!1},t.default=C},1004:function(e,t,a){"use strict";function n(e,t,a,n){var l=Math.floor(a/t)+(a%t===0?0:1),r=Math.floor(e/t)+1,u=r<=1?0:r-1,c=r>=l?0:r+1,p=[];p.push(i(u,!0));for(var m=Math.max(n+r-l,0),f=r-n-m-1,y=1+n,b=1;b<r;b++){if(!(b<y)){p.push(b===y&&b<f?d(!0):s(b,!0));for(var g=Math.max(b,f)+1;g<r;g++)p.push(s(g,!0));break}p.push(s(b,!0))}p.push(o(r));for(var h=Math.max(n-r+1,0),C=r+n+h+1,E=l-n,v=r+1;v<=l;v++){if(!(v<C)){p.push(v===C&&v<E?d(!1):s(v,!1));for(var x=Math.max(v,E)+1;x<=l;x++)p.push(s(x,!1));break}p.push(s(v,!1))}return p.push(i(c,!1)),p}function l(e,t){return(e-1)*t}Object.defineProperty(t,"__esModule",{value:!0}),t.computePagination=n,t.getOffset=l;var r=function(e){return{page:e,isCurrent:!1,isEnd:!1,isEllipsis:!1,isLowSide:!1}},o=function(e){var t=r(e);return t.isCurrent=!0,t},s=function(e,t){var a=r(e);return a.isLowSide=t,a},i=function(e,t){var a=s(e,t);return a.isEnd=!0,a},d=function(e){var t=s(0,e);return t.isEllipsis=!0,t}},1040:function(e,t,a){var n=a(1047);"string"===typeof n&&(n=[[e.i,n,""]]);var l={hmr:!1};l.transform=void 0;a(965)(n,l);n.locals&&(e.exports=n.locals)},1047:function(e,t,a){t=e.exports=a(964)(!0),t.push([e.i,".broadcast-message-margin-10{margin:10px}.broadcast-message-flex{display:-ms-flexbox;display:flex}.broadcast-message-flex-10{-ms-flex:0.1;flex:0.1 1}.broadcast-message-flex-60{-ms-flex:0.6;flex:0.6 1}.broadcast-message-marginBottom-10{margin-bottom:10px}.broadcast-message-detail-padding-20{padding:20px}.broadcast-message-detail-margin-auto{margin:0 auto}.broadcast-message-detail-paddingBottom-20{padding-bottom:20px}.broadcast-message-detail-paddingTop-20{padding-top:20px}.broadcast-message-detail-maxWidth-900{max-width:900px}.broadcast-message-detail-divider{border-bottom:4px solid rgba(4,4,4,.2);margin-top:10px;margin-bottom:10px}","",{version:3,sources:["/Users/lkming/Documents/_Project/AmBank/web_backOffice/lkming/src/pages/broadcastMessage/s.broadcast.message.css"],names:[],mappings:"AAAA,6BACI,WAA+B,CAClC,AAED,wBACI,oBAAsB,AACtB,YAAe,CAClB,AAED,2BACI,aAAsB,AACtB,UAAwB,CAC3B,AAED,2BACI,aAAsB,AACtB,UAAwB,CAC3B,AAED,mCACI,kBAA2B,CAC9B,AAED,qCACI,YAAe,CAClB,AAED,sCACI,aAAyC,CAC5C,AAED,2CACI,mBAAwB,CAC3B,AAED,wCACI,gBAAuB,CAC1B,AAED,uCACI,eAAyB,CAC5B,AAGD,kCACI,uCAAwD,AACxD,gBAA2B,AAC3B,kBAA2B,CAC9B",file:"s.broadcast.message.css",sourcesContent:[".broadcast-message-margin-10 {\n    margin                  : 10px;\n}\n\n.broadcast-message-flex {\n    display : -ms-flexbox;\n    display : flex;\n}\n\n.broadcast-message-flex-10 {  /* Safari 6.1+ */\n    -ms-flex        : 0.1;  /* IE 10 */\n    flex            : 0.1 1;\n}\n\n.broadcast-message-flex-60 {  /* Safari 6.1+ */\n    -ms-flex        : 0.6;  /* IE 10 */\n    flex            : 0.6 1;\n}\n\n.broadcast-message-marginBottom-10 {\n    margin-bottom       : 10px;\n}\n\n.broadcast-message-detail-padding-20 {\n    padding : 20px;\n}\n\n.broadcast-message-detail-margin-auto {\n    margin               : 0px auto 0px auto;\n}\n\n.broadcast-message-detail-paddingBottom-20 {\n    padding-bottom   : 20px;\n}\n\n.broadcast-message-detail-paddingTop-20 {\n    padding-top     : 20px;\n}\n\n.broadcast-message-detail-maxWidth-900 {\n    max-width        : 900px;\n}\n\n\n.broadcast-message-detail-divider {\n    border-bottom       : 4px solid rgba( 4 , 4 , 4 , 0.2 );\n    margin-top          : 10px;\n    margin-bottom       : 10px;\n}"],sourceRoot:""}])},991:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),i=a.n(s),d=a(145),u=a(403),c=(a.n(u),a(109)),p=a.n(c),m=a(401),f=a.n(m),y=a(404),b=a.n(y),g=a(241),h=(a.n(g),a(89)),C=a.n(h),E=a(402),v=a.n(E),x=a(144),A=a.n(x),S=a(244),D=a.n(S),T=a(999),B=a.n(T),k=a(415),_=a.n(k),M=a(171),L=a(110),w=a(111),O=(a(18),a(108)),P=a(405),j=a(1040),I=(a.n(j),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());t.default=Object(d.b)(function(e){var t=e.ReduxBroadcastMessageList,a={};if(t)for(var n=0;n<t.length;n++){var l=t[n];l.completed||(M.a.INIT_DONE==l.type?(a.onReadyFunction="requestInitDone",a._result_=l._result_):M.a.LIST_DONE==l.type&&(a.onReadyFunction="requestListDone",a._result_=l._result_),l.completed=!0)}return a})(function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("ComponentBroadcastMessageList : constructor : *** : ["+a.uuid()+"] ",e),a.state={isBegin:!0,isLoading:!1,result:[],form:{title:"",startDate:"",formattedStartDate:"",endDate:"",formattedEndDate:"",module:"",mode:""},pagination:{offset:1,limit:20,total:100},MODULE:[{id:1,name:"All"},{id:2,name:"Home"},{id:3,name:"Login"}],MODE:[{id:1,name:"Web"},{id:2,name:"Mobile"}]},a}return o(t,e),I(t,[{key:"_onReady",value:function(){console.log("ComponentBroadcastMessageList : _onReady : *** ")}},{key:"_handleChange",value:function(e,t){var a=this.state.form;a[e]=t,this.setState({form:a})}},{key:"onClickClear",value:function(){var e=this.state.form;e.title="",e.startDate="",e.formattedStartDate="",e.formattedEndDate="",e.endDate="",e.module="",e.mode="",this.setState({form:e})}},{key:"onClickSearch",value:function(){console.log("ComponentBroadcastMessageList : onClickSearch : *** "),this.requestList()}},{key:"onClickDetail",value:function(e,t,a){console.log("ComponentBroadcastMessageList : onClickDetail : *** "),L.b.route(L.b.mapPath(L.a.BROADCAST_MESSAGE_DETAIL),{module:this.state.MODULE,mode:this.state.MODE,status:e,statusHeader:t,item:a})}},{key:"getStartDate",value:function(){if(this.state.form.startDate)return new Date(this.state.form.startDate)}},{key:"getEndDate",value:function(){if(this.state.form.endDate)return new Date(this.state.form.endDate)}},{key:"requestInitDone",value:function(e){console.log("ComponentBroadcastMessageList : requestInitDone : *** : result => ",e),this.setState({isLoading:!1}),this.dispatch(M.b.rRequestEnd())}},{key:"requestList",value:function(){var e=this;console.log("ComponentBroadcastMessageList : requestList : ***"),Promise.all([(new w.a).get(w.a.ENUM.SESSION,w.a.KEY.AUTHORIZATION_TOKEN_TYPE),(new w.a).get(w.a.ENUM.SESSION,w.a.KEY.AUTHORIZATION_ACCESS_TOKEN)]).then(function(t){e.setState({isLoading:!0},function(){e.dispatch(M.b.rList({authorizeType:t[0],authorizeToken:t[1]},{title:e.state.form.title,startDate:e.state.form.formattedStartDate,endDate:e.state.form.formattedEndDate,module:e.state.form.module,mode:e.state.form.mode}))})})}},{key:"requestListDone",value:function(e){console.log("ComponentBroadcastMessageList : requestListDone : *** : result => ",e);var t=this.state.pagination;t.total=e.broadcastMessages.length/t.limit,this.setState({isLoading:!1,result:e.broadcastMessages,pagination:t}),this.dispatch(M.b.rRequestEnd())}},{key:"render",value:function(){var e,t,a=this;return i.a.createElement("div",null,i.a.createElement("h4",{style:{paddingLeft:25}},"Broadcast Message Listing"),i.a.createElement("div",{style:{paddingLeft:25,paddingBottom:10}},i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:.2}},i.a.createElement("p",{style:{paddingTop:12}},"Search By")),i.a.createElement("div",{style:{flex:.2}})),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:.1}},i.a.createElement("p",{style:{paddingTop:12}},"Title")),i.a.createElement("div",{style:{flex:.3}},i.a.createElement(C.a,{name:"list_title",underlineStyle:{borderColor:"#000"},underlineFocusStyle:{borderColor:"#FF5252"},style:{width:"50%"},value:this.state.form.title,onChange:function(e){a._handleChange("title",e.target.value)}}))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:.1}},i.a.createElement("p",{style:{paddingTop:12}},"Start Date")),i.a.createElement("div",{style:{flex:.3}},i.a.createElement(b.a,{name:"list_startDate",style:{flex:1},hintText:"Select Start Date",value:this.getStartDate(),onChange:function(e,t){a._handleChange("startDate",t),a._handleChange("formattedStartDate",_()(t).format("YYYYMMDD")+_()().format("HHmmssSSS"))}}))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:.1}},i.a.createElement("p",{style:{paddingTop:12}},"End Date")),i.a.createElement("div",{style:{flex:.3}},i.a.createElement(b.a,{name:"list_endDate",style:{flex:1},hintText:"Select End Date",value:this.getEndDate(),onChange:function(e,t){a._handleChange("endDate",t),a._handleChange("formattedEndDate",_()(t).format("YYYYMMDD")+_()().format("HHmmssSSS"))}}))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:.1}},i.a.createElement("p",{style:{paddingTop:12}},"Module")),i.a.createElement("div",{style:{flex:.3}},i.a.createElement(v.a,(e={style:{flex:1},name:"list_module",underlineStyle:{borderColor:"#000"},underlineFocusStyle:{borderColor:"#FF5252"}},n(e,"style",{width:"50%"}),n(e,"floatingLabelText","Select Module"),n(e,"value",this.state.form.module),n(e,"onChange",function(e,t,n){a._handleChange("module",n)}),e),i.a.createElement(A.a,{value:this.state.MODULE[0].id,primaryText:this.state.MODULE[0].name}),i.a.createElement(A.a,{value:this.state.MODULE[1].id,primaryText:this.state.MODULE[1].name}),i.a.createElement(A.a,{value:this.state.MODULE[2].id,primaryText:this.state.MODULE[2].name})))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},i.a.createElement("div",{style:{flex:.1}},i.a.createElement("p",{style:{paddingTop:12}},"Mode")),i.a.createElement("div",{style:{flex:.3}},i.a.createElement(v.a,(t={style:{flex:1},name:"list_mode",underlineStyle:{borderColor:"#000"},underlineFocusStyle:{borderColor:"#FF5252"}},n(t,"style",{width:"50%"}),n(t,"floatingLabelText","Select Mode"),n(t,"value",this.state.form.mode),n(t,"onChange",function(e,t,n){a._handleChange("mode",n)}),t),i.a.createElement(A.a,{value:this.state.MODE[0].id,primaryText:this.state.MODE[0].name}),i.a.createElement(A.a,{value:this.state.MODE[1].id,primaryText:this.state.MODE[1].name})))),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:10}},i.a.createElement("div",{style:{flex:.14}}),i.a.createElement(f.a,{label:"Clear",onClick:function(){a.onClickClear()}}),i.a.createElement("div",{style:{flex:.02}}),i.a.createElement(f.a,{label:"Search",onClick:function(){a.onClickSearch()}})),i.a.createElement("hr",null),i.a.createElement("div",{style:{marginTop:"40px"}},i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(D.a,null,i.a.createElement(B.a,{offset:this.state.pagination.offset,limit:this.state.pagination.limit,total:this.state.result.length>0?this.state.pagination.total:0,nextPageLabel:"Next",previousPageLabel:"Previous",otherPageLabelStyle:{fontSize:"16px"},currentPageLabelStyle:{fontSize:"16px"},onClick:function(e,t){var n=a.state.pagination;n.offset=t,a.setState({pagination:n})}}))),i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(u.Table,null,i.a.createElement(u.TableHeader,{displaySelectAll:!1},i.a.createElement(u.TableRow,{displayBorder:!0},i.a.createElement(u.TableHeaderColumn,{style:{backgroundColor:"#dc3545",color:"white",textAlign:"center"}},"No."),i.a.createElement(u.TableHeaderColumn,{style:{backgroundColor:"#dc3545",color:"white",textAlign:"center"}},"Title"),i.a.createElement(u.TableHeaderColumn,{style:{backgroundColor:"#dc3545",color:"white",textAlign:"center"}},"From Date/Time"),i.a.createElement(u.TableHeaderColumn,{style:{backgroundColor:"#dc3545",color:"white",textAlign:"center"}},"To Date/Time"),i.a.createElement(u.TableHeaderColumn,{style:{backgroundColor:"#dc3545",color:"white",textAlign:"center"}},"Module"),i.a.createElement(u.TableHeaderColumn,{style:{backgroundColor:"#dc3545",color:"white",textAlign:"center"}},"Mode"))),i.a.createElement(u.TableBody,{displayRowCheckbox:!1},this.state.result.map(function(e,t){return i.a.createElement(u.TableRow,{key:e.bmId,displayBorder:!0},i.a.createElement(u.TableRowColumn,{style:{textAlign:"center"}}," ",t+1," "),i.a.createElement(u.TableRowColumn,null,i.a.createElement(p.a,{label:e.title,primary:!0,linkButton:!0,onClick:function(){a.onClickDetail("view","View Broadcast Message",e)}})),i.a.createElement(u.TableRowColumn,null," ",_()(e.startDate.substr(0,8)+"T"+e.startDate.substr(8,6)).format("YYYY-MM-DD HH:mm:ss")," "),i.a.createElement(u.TableRowColumn,null," ",_()(e.endDate.substr(0,8)+"T"+e.endDate.substr(8,6)).format("YYYY-MM-DD HH:mm:ss")," "),i.a.createElement(u.TableRowColumn,null," ",a.state.MODULE.find(function(t){return t.id===+e.module}).name," "),i.a.createElement(u.TableRowColumn,null," ",a.state.MODE.find(function(t){return t.id===+e.mode}).name," "))})))),i.a.createElement("br",null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(f.a,{className:"broadcast-message-margin-10",label:"Add",onClick:function(){a.onClickDetail("add","Add Broadcast Message")}})))),i.a.createElement(P.a,{visible:this.state.isLoading}))}}]),t}(O.a))},999:function(e,t,a){"use strict";e.exports=a(1002)}});
//# sourceMappingURL=21.18e4dd7d.chunk.js.map