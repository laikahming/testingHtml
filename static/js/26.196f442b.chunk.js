webpackJsonp([26],{1124:function(e,t,a){var n=a(1125);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!1};r.transform=void 0;a(965)(n,r);n.locals&&(e.exports=n.locals)},1125:function(e,t,a){t=e.exports=a(964)(!0),t.push([e.i,".report-auditlog-padding-10{padding:10px}.report-auditlog-textAlign-center{text-align:center}.report-auditlog-paddingTop-10{padding-top:10px}.report-auditlog-paddingBottom-10{padding-bottom:10px}","",{version:3,sources:["/Users/lkming/Documents/_Project/AmBank/web_backOffice/lkming/src/pages/report/auditlog/s.report.auditlog.css"],names:[],mappings:"AAEA,4BACI,YAA2B,CAC9B,AAGD,kCACI,iBAA6B,CAChC,AAGD,+BACI,gBAA2B,CAC9B,AAGD,kCACI,mBAA2B,CAC9B",file:"s.report.auditlog.css",sourcesContent:["\n\n.report-auditlog-padding-10 {\n    padding             : 10px;\n}\n\n\n.report-auditlog-textAlign-center {\n    text-align          : center;\n}\n\n\n.report-auditlog-paddingTop-10 {\n    padding-top         : 10px;\n}\n\n\n.report-auditlog-paddingBottom-10 {\n    padding-bottom      : 10px;\n}\n"],sourceRoot:""}])},980:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a.n(o),i=a(145),u=(a(143),a(403)),c=(a.n(u),a(89)),m=a.n(c),d=a(41),f=a.n(d),p=a(109),y=(a.n(p),a(401)),E=a.n(y),g=a(241),b=(a.n(g),a(146)),h=(a.n(b),a(402)),T=a.n(h),x=a(144),C=a.n(x),v=a(404),A=a.n(v),S=a(408),_=(a.n(S),a(163)),N=(a(110),a(111)),D=a(28),I=a(108),R=a(405),w=a(1124),L=(a.n(w),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());t.default=Object(i.b)(function(e){var t=e.ReduxAuditLog,a={};if(t)for(var n=0;n<t.length;n++){var r=t[n];r.completed||(_.a.INIT_DONE===r.type?(a.onReadyFunction="requestInitDone",a._result_=r._result_):_.a.SEARCH_DONE===r.type&&(a.onReadyFunction="requestSearchDone",a._result_=r._result_),r.completed=!0)}return a})(function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:{userType:[],resource:[],channel:[],action:[]},form:{userType:"",resources:"",userId:"",username:"",actions:"",startDate:"",endDate:"",channel:"",companyId:"",bussName:"",bussRegNum:""},result:[]},a}return l(t,e),L(t,[{key:"_onReady",value:function(){this.requestInit()}},{key:"requestInit",value:function(){var e=this;console.log("ComponentReportAuditLog : requestInit : *** "),Promise.all([(new N.a).get(N.a.ENUM.SESSION,N.a.KEY.AUTHORIZATION_TOKEN_TYPE),(new N.a).get(N.a.ENUM.SESSION,N.a.KEY.AUTHORIZATION_ACCESS_TOKEN)]).then(function(t){e.setState({isLoading:!0},function(){e.dispatch(_.b.rInit({authorizeType:t[0],authorizeToken:t[1]},{}))})})}},{key:"requestInitDone",value:function(e){console.log("ComponentReportAuditLog : requestInitDone : *** : result => ",e);var t=this.state.data;t.userType=e.userType,t.channel=e.channel,t.action=e.action,this.setState({isLoading:!1,data:t}),this.dispatch(_.b.rRequestEnd())}},{key:"requestSearch",value:function(){var e=this;console.log("ComponentReportAuditLog : requestSearch : *** "),Promise.all([(new N.a).get(N.a.ENUM.SESSION,N.a.KEY.AUTHORIZATION_TOKEN_TYPE),(new N.a).get(N.a.ENUM.SESSION,N.a.KEY.AUTHORIZATION_ACCESS_TOKEN)]).then(function(t){e.setState({isLoading:!0},function(){e.dispatch(_.b.rSearch({authorizeType:t[0],authorizeToken:t[1]},{userType:e.state.form.userType,resources:e.state.form.resources,userId:e.state.form.userId,username:e.state.form.username,actions:e.state.form.actions,startDate:e.state.form.startDate,endDate:e.state.form.endDate,channel:e.state.form.channel,companyId:e.state.form.companyId,bussName:e.state.form.bussName,bussRegNum:e.state.form.bussRegNum}))})})}},{key:"requestSearchDone",value:function(e){console.log("ComponentReportAuditLog : requestSearchDone : ***  : result => ",e),this.setState({isLoading:!1,result:e.auditLog}),this.dispatch(_.b.rRequestEnd())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(f.a,{style:{width:"100%",margin:"0px auto"}},s.a.createElement("h3",{style:{paddingLeft:25,paddingTop:12}},"Report - Audit Log"),s.a.createElement("hr",null),s.a.createElement("div",{style:{paddingLeft:25,paddingBottom:10}},s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:32}},"Resource")),s.a.createElement(T.a,{style:{flex:.25},floatingLabelText:"Resource",value:this.state.form.resources,onChange:function(t,a,n){var r=e.state.form;r.resources=n,e.setState({form:r})}},s.a.createElement(C.a,{value:"ALL",primaryText:"ALL"}),this.state.data.resource.map(function(e,t){return s.a.createElement(C.a,{key:"_report_auditlog_resources_"+t,value:e.code,primaryText:e.label})}))),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:32}},"Channel")),s.a.createElement(T.a,{style:{flex:.25},floatingLabelText:"Channel",value:this.state.form.channel,onChange:function(t,a,n){var r=e.state.form;r.channel=n,e.setState({form:r})}},s.a.createElement(C.a,{value:"ALL",primaryText:"ALL"}),this.state.data.channel.map(function(e,t){return s.a.createElement(C.a,{key:"_report_auditlog_resources_"+t,value:e.code,primaryText:e.label})}))),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:12}},"User ID")),s.a.createElement(m.a,{style:{flex:.25},underlineFocusStyle:{borderColor:"#000"},hintText:"User ID",value:this.state.form.userId,onChange:function(t,a){var n=e.state.form;n.userId=a,e.setState({form:n})}})),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:12}},"User Name")),s.a.createElement(m.a,{style:{flex:.25},underlineFocusStyle:{borderColor:"#000"},hintText:"User Name",value:this.state.form.username,onChange:function(t,a){var n=e.state.form;n.username=a,e.setState({form:n})}})),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:32}},"Action")),s.a.createElement(T.a,{style:{flex:.25},floatingLabelText:"Action",value:this.state.form.actions,onChange:function(t,a,n){var r=e.state.form;r.actions=n,e.setState({form:r})}},s.a.createElement(C.a,{value:"ALL",primaryText:"ALL"}),this.state.data.action.map(function(e,t){return s.a.createElement(C.a,{key:"_report_auditlog_resources_"+t,value:e.code,primaryText:e.label})}))),s.a.createElement("div",{style:{display:"flex",paddingTop:20,flexWrap:"wrap"}},s.a.createElement("p",{style:{flex:.15,paddingTop:12}},"Date"),s.a.createElement(A.a,{textFieldStyle:{width:"100%"},style:{flex:.25},hintText:"Start Date",mode:"landscape",formatDate:function(e){return D.b.formatDate(D.b.objectToDate(e))},onChange:function(t,a){var n=e.state.form;n.startDate=D.b.formatDateTimeStick(D.b.objectToDate(a)),e.setState({form:n})}}),s.a.createElement("p",{style:{flex:.05,paddingTop:15,textAlign:"center"}},"-"),s.a.createElement(A.a,{textFieldStyle:{width:"100%"},style:{flex:.25},hintText:"End Date",mode:"landscape",formatDate:function(e){return D.b.formatDate(D.b.objectToDate(e))},onChange:function(t,a){var n=e.state.form;n.endDate=D.b.formatDateTimeStick(D.b.objectToDate(a)),e.setState({form:n})}}))),s.a.createElement("hr",null),s.a.createElement("div",{style:{paddingLeft:25,paddingBottom:10}},s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:12}},"Company ID")),s.a.createElement(m.a,{style:{flex:.25},underlineFocusStyle:{borderColor:"#000"},hintText:"",value:this.state.form.companyId,onChange:function(t,a){var n=e.state.form;n.companyId=a,e.setState({form:n})}})),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:12}},"Business Name")),s.a.createElement(m.a,{style:{flex:.25},underlineFocusStyle:{borderColor:"#000"},hintText:"Business Name",value:this.state.form.bussName,onChange:function(t,a){var n=e.state.form;n.bussName=a,e.setState({form:n})}})),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},s.a.createElement("div",{style:{flex:.15}},s.a.createElement("p",{style:{paddingTop:12}},"Business Registration No.")),s.a.createElement(m.a,{underlineFocusStyle:{borderColor:"#000"},style:{flex:.25},hintText:"",value:this.state.form.bussRegNum,onChange:function(t,a){var n=e.state.form;n.bussRegNum=a,e.setState({form:n})}})),s.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",width:"40%",paddingTop:30}},s.a.createElement("div",{style:{flex:.1}}),s.a.createElement(E.a,{style:{flex:.2},label:"Search",onClick:function(){e.requestSearch()}}))),s.a.createElement("hr",null),s.a.createElement(u.Table,{fixedHeader:!1,selectable:!1,style:{width:"100%"},tableLayout:"auto"},s.a.createElement(u.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!1},s.a.createElement(u.TableRow,null,s.a.createElement(u.TableHeaderColumn,null," Date "),s.a.createElement(u.TableHeaderColumn,null," Branch Name "),s.a.createElement(u.TableHeaderColumn,null," User ID "),s.a.createElement(u.TableHeaderColumn,null," User Name "),s.a.createElement(u.TableHeaderColumn,null," User Type "),s.a.createElement(u.TableHeaderColumn,null," Channel "),s.a.createElement(u.TableHeaderColumn,null," Company ID "),s.a.createElement(u.TableHeaderColumn,null," Business Name "),s.a.createElement(u.TableHeaderColumn,null," Business Registration Number "),s.a.createElement(u.TableHeaderColumn,null," Resource "),s.a.createElement(u.TableHeaderColumn,null," Actions "))),s.a.createElement(u.TableBody,{displayRowCheckbox:!1},this.state.result.map(function(e,t){return s.a.createElement(u.TableRow,{key:"_auditlog_record_"+t},s.a.createElement(u.TableRowColumn,null,s.a.createElement("div",{className:" report-auditlog-textAlign-center "},D.b.formatDate(D.b.stringToDate(e.dateTime))),s.a.createElement("div",{className:" report-auditlog-textAlign-center "},D.b.formatTime(D.b.stringToDate(e.dateTime)))),s.a.createElement(u.TableRowColumn,null," ",e.branchName," "),s.a.createElement(u.TableRowColumn,null,s.a.createElement("div",null," ",e.userId," "),s.a.createElement("div",null," ",e.username," "),s.a.createElement("div",null," ",e.userType," ")),s.a.createElement(u.TableRowColumn,null," ",e.channel," "),s.a.createElement(u.TableRowColumn,null," ",e.companyId," "),s.a.createElement(u.TableRowColumn,null," ",e.bussName," "),s.a.createElement(u.TableRowColumn,null," ",e.bussRegNum," "),s.a.createElement(u.TableRowColumn,null," ",e.resources," "),s.a.createElement(u.TableRowColumn,null," ",e.actions," "))})))),s.a.createElement(R.a,{visible:this.state.isLoading}))}}]),t}(I.a))}});
//# sourceMappingURL=26.196f442b.chunk.js.map